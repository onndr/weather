(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n.p+"static/media/preloading-img.3741b811.svg"},,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),o=n.n(c),i=(n(13),n(2)),l=n.n(i),u=n(3),s=n(7),m=(n(15),function(e){var t=e.request,n=e.setLocation,a=e.location;return r.a.createElement("div",{className:"location-input-container"},r.a.createElement("input",{onKeyPress:function(e){return"Enter"===e.key&&a.length&&t(a)},onChange:function(e){return n(e.target.value)},onBlur:function(){return a.length&&t(a)},value:a,autoFocus:!0,className:"location-input",type:"text",placeholder:"location"}),r.a.createElement("button",{onClick:function(){return t(a)}},"Search"))}),d=n(6),p=n.n(d),E=function(){return r.a.createElement("div",{className:"preloader"},r.a.createElement("img",{src:p.a,alt:""}))},h=function(e){var t=e.data,n=e.error,a=e.isFetching;return r.a.createElement("div",{className:"weather-info-container"},r.a.createElement("h3",{className:"weather-header"},"Current weather ",(null===t||void 0===t?void 0:t.weather)&&r.a.createElement("span",null,"- ",t.weather[0].main)),n&&r.a.createElement("div",{className:"error"},"You entered wrong location, try again"),a&&r.a.createElement(E,null),(null===t||void 0===t?void 0:t.main)&&r.a.createElement("div",null,r.a.createElement("div",null,"Temperature: ",t.main.temp,"\u2103"),r.a.createElement("div",null,"Feels like: ",t.main.feels_like,"\u2103"),r.a.createElement("div",null,"Humidity: ",t.main.humidity,"%"),r.a.createElement("div",null,"Cloudiness: ",t.clouds.all,"%"),r.a.createElement("div",null,"Visibility: ",t.visibility,"m"),r.a.createElement("div",null,"Pressure: ",t.main.pressure,"hPa"),r.a.createElement("div",null,"Wind speed: ",t.wind.speed,"m/s")))},f=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat("d84386b02381d47b911f8b5b21c2f655","&units=metric"));case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:throw new Error("location not found");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=n(1),b=function(e){return{type:"SET_ERROR",error:e}},g=function(e){return{type:"SET_WEATHER_DATA",data:e}},w={location:localStorage.getItem("location")||"",isFetching:!1,error:void 0,data:void 0},O=function(e,t){switch(t.type){case"SET_CURRENT_LOCATION":return Object(v.a)(Object(v.a)({},e),{},{location:t.location});case"TOGGLE_FETCHING":return Object(v.a)(Object(v.a)({},e),{},{isFetching:!e.isFetching});case"SET_ERROR":return Object(v.a)(Object(v.a)({},e),{},{error:t.error});case"SET_WEATHER_DATA":return Object(v.a)(Object(v.a)({},e),{},{data:Object(v.a)({},t.data)});default:return e}},T=function(){var e=Object(a.useReducer)(O,w),t=Object(s.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){n.location&&o()}),[]);var o=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.error&&c(b("")),!n.location){e.next=10;break}return c({type:"TOGGLE_FETCHING"}),e.next=6,f(n.location);case 6:t=e.sent,c(g(t)),c({type:"TOGGLE_FETCHING"}),localStorage.setItem("location",n.location);case 10:e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),c({type:"TOGGLE_FETCHING"}),c(b(e.t0.message)),c(g(void 0));case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"Weather"),r.a.createElement(m,{location:n.location,setLocation:function(e){c({type:"SET_CURRENT_LOCATION",location:e})},request:o}),r.a.createElement(h,{isFetching:n.isFetching,error:n.error,data:n.data}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.d14480ac.chunk.js.map